<html><head><base href="https://mercadilloaclp.com/juego/catan/registro">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registro - MercadilloACLP</title>
<style>
:root {
  --primary-color: #3498db;
  --secondary-color: #2ecc71;
  --accent-color: #e67e22;
  --background-color: #ecf0f1;
  --text-color: #34495e;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Roboto', sans-serif;
  line-height: 1.6;
  color: var(--text-color);
  background-color: var(--background-color);
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.container {
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

header {
  background-color: var(--primary-color);
  color: white;
  padding: 1rem 0;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

nav ul {
  display: flex;
  justify-content: space-around;
  list-style-type: none;
}

nav ul li a {
  color: white;
  text-decoration: none;
  font-weight: bold;
  transition: color 0.3s ease;
}

nav ul li a:hover {
  color: var(--accent-color);
}

main {
  flex-grow: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2rem 0;
}

h1 {
  color: var(--primary-color);
  margin-bottom: 1rem;
  text-align: center;
}

.register-form {
  background-color: white;
  padding: 2rem;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 500px;
}

.form-group {
  margin-bottom: 1rem;
}

label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: bold;
}

input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="date"],
select {
  width: 100%;
  padding: 0.5rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 1rem;
}

.btn {
  display: inline-block;
  background-color: var(--accent-color);
  color: white;
  padding: 0.8rem 1.5rem;
  text-decoration: none;
  border-radius: 5px;
  transition: background-color 0.3s ease;
  cursor: pointer;
  border: none;
  font-size: 1rem;
  width: 100%;
}

.btn:hover {
  background-color: #d35400;
}

.login-link {
  text-align: center;
  margin-top: 1rem;
}

.login-link a {
  color: var(--primary-color);
  text-decoration: none;
}

.login-link a:hover {
  text-decoration: underline;
}

footer {
  background-color: var(--primary-color);
  color: white;
  text-align: center;
  padding: 1rem 0;
  margin-top: 2rem;
}

@media (max-width: 768px) {
  .register-form {
    padding: 1rem;
  }
}

.image-upload {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 1rem;
}

.image-preview {
  width: 150px;
  height: 150px;
  border: 2px dashed #ccc;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 1rem;
  overflow: hidden;
}

.image-preview img {
  max-width: 100%;
  max-height: 100%;
  object-fit: cover;
}

.image-upload input[type="file"] {
  display: none;
}

.image-upload label {
  background-color: var(--secondary-color);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.image-upload label:hover {
  background-color: #27ae60;
}

.checkbox-group {
  display: flex;
  align-items: center;
  margin-bottom: 1rem;
}

.checkbox-group input[type="checkbox"] {
  margin-right: 0.5rem;
}

.checkbox-group label {
  font-size: 0.9rem;
}

.checkbox-group a {
  color: var(--primary-color);
  text-decoration: none;
}

.checkbox-group a:hover {
  text-decoration: underline;
}
</style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <ul>
          <li><a href="https://mercadilloaclp.com/">Inicio</a></li>
          <li><a href="https://mercadilloaclp.com/catalogo">Catálogo</a></li>
          <li><a href="https://mercadilloaclp.com/intercambio">Intercambio</a></li>
          <li><a href="https://mercadilloaclp.com/login">Iniciar Sesión</a></li>
          <li><a href="https://mercadilloaclp.com/registro">Registro</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="register-form">
      <h1>Registro de Usuario</h1>
      <form id="registerForm">
        <div class="image-upload">
          <div class="image-preview" id="imagePreview">
            <img src="https://mercadilloaclp.com/default-avatar.png" alt="Avatar por defecto" id="previewImage">
          </div>
          <input type="file" id="avatarUpload" name="avatar" accept="image/*">
          <label for="avatarUpload">Subir Imagen de Perfil</label>
        </div>
        <div class="form-group">
          <label for="username">Nombre de Usuario:</label>
          <input type="text" id="username" name="username" required>
        </div>
        <div class="form-group">
          <label for="email">Correo Electrónico:</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="password">Contraseña:</label>
          <input type="password" id="password" name="password" required>
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirmar Contraseña:</label>
          <input type="password" id="confirmPassword" name="confirmPassword" required>
        </div>
        <div class="form-group">
          <label for="phone">Número de Teléfono:</label>
          <input type="tel" id="phone" name="phone" required>
        </div>
        <div class="form-group">
          <label for="nationality">Nacionalidad:</label>
          <select id="nationality" name="nationality" required>
            <option value="">Selecciona tu nacionalidad</option>
            <option value="AR">Argentina</option>
            <option value="BO">Bolivia</option>
            <option value="CL">Chile</option>
            <option value="CO">Colombia</option>
            <option value="CR">Costa Rica</option>
            <option value="CU">Cuba</option>
            <option value="DO">República Dominicana</option>
            <option value="EC">Ecuador</option>
            <option value="SV">El Salvador</option>
            <option value="GT">Guatemala</option>
            <option value="HN">Honduras</option>
            <option value="MX">México</option>
            <option value="NI">Nicaragua</option>
            <option value="PA">Panamá</option>
            <option value="PY">Paraguay</option>
            <option value="PE">Perú</option>
            <option value="PR">Puerto Rico</option>
            <option value="ES">España</option>
            <option value="UY">Uruguay</option>
            <option value="VE">Venezuela</option>
          </select>
        </div>
        <div class="form-group">
          <label for="birthdate">Fecha de Nacimiento:</label>
          <input type="date" id="birthdate" name="birthdate" required>
        </div>
        <div class="form-group">
          <label for="dni">DNI:</label>
          <input type="text" id="dni" name="dni" required>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="termsConditions" name="termsConditions" required>
          <label for="termsConditions">Acepto los <a href="https://mercadilloaclp.com/terminos-condiciones" target="_blank">Términos y Condiciones</a></label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="privacyPolicy" name="privacyPolicy" required>
          <label for="privacyPolicy">Acepto la <a href="https://mercadilloaclp.com/politica-privacidad" target="_blank">Política de Privacidad</a></label>
        </div>
        <button type="submit" class="btn">Registrarse</button>
      </form>
      <div class="login-link">
        ¿Ya tienes una cuenta? <a href="https://mercadilloaclp.com/login">Inicia sesión aquí</a>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2024 MercadilloACLP. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script>
    document.getElementById('registerForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      if (validateForm()) {
        const username = document.getElementById('username').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const phone = document.getElementById('phone').value;
        const nationality = document.getElementById('nationality').value;
        const birthdate = document.getElementById('birthdate').value;
        const dni = document.getElementById('dni').value;
        
        // Aquí iría la lógica para registrar al usuario
        // Por ejemplo, enviar los datos a un servidor para su procesamiento
        
        console.log('Intento de registro con:', { username, email, phone, nationality, birthdate, dni });
        
        // Simulación de registro exitoso
        setTimeout(() => {
          alert('Registro exitoso. ¡Bienvenido a MercadilloACLP!');
          window.location.href = 'https://mercadilloaclp.com/juego/catan'; // Redirigir al usuario a la página de Catan después del registro
        }, 1000);
      }
    });

    function validateForm() {
      const username = document.getElementById('username').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const phone = document.getElementById('phone').value;
      const nationality = document.getElementById('nationality').value;
      const birthdate = document.getElementById('birthdate').value;
      const dni = document.getElementById('dni').value;
      const termsConditions = document.getElementById('termsConditions').checked;
      const privacyPolicy = document.getElementById('privacyPolicy').checked;

      if (username.trim() === '' || email.trim() === '' || password.trim() === '' || confirmPassword.trim() === '' || phone.trim() === '' || nationality === '' || birthdate === '' || dni.trim() === '') {
        alert('Por favor, completa todos los campos.');
        return false;
      }

      if (!isValidEmail(email)) {
        alert('Por favor, ingresa un correo electrónico válido.');
        return false;
      }

      if (password !== confirmPassword) {
        alert('Las contraseñas no coinciden.');
        return false;
      }

      if (!isValidPhone(phone)) {
        alert('Por favor, ingresa un número de teléfono válido.');
        return false;
      }

      if (!isAdult(birthdate)) {
        alert('Debes ser mayor de 18 años para registrarte.');
        return false;
      }

      if (!termsConditions || !privacyPolicy) {
        alert('Debes aceptar los Términos y Condiciones y la Política de Privacidad para continuar.');
        return false;
      }

      return true;
    }

    function isValidEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    function isValidPhone(phone) {
      const re = /^\+?[\d\s()-]{7,}$/;
      return re.test(phone);
    }

    function isAdult(birthdate) {
      const today = new Date();
      const birthDate = new Date(birthdate);
      let age = today.getFullYear() - birthDate.getFullYear();
      const m = today.getMonth() - birthDate.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
        age--;
      }
      return age >= 18;
    }

    // Previsualización de la imagen de perfil
    document.getElementById('avatarUpload').addEventListener('change', function(e) {
      const file = e.target.files[0];
      const reader = new FileReader();

      reader.onload = function(event) {
        document.getElementById('previewImage').src = event.target.result;
      }

      if (file) {
        reader.readAsDataURL(file);
      }
    });

    // Animación suave al hacer scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });
  </script>
</body></html>